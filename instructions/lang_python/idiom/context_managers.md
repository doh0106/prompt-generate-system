## [Idiom] 컨텍스트 관리자 (`with` 문)

파일, 데이터베이스 커넥션, 락(lock) 등 사용 후 반드시 정리(clean-up)가 필요한 자원을 다룰 때는 `try...finally` 블록 대신 컨텍스트 관리자(`with` 문)를 반드시 사용해야 한다.

### 규칙
1.  **`with` 문 사용**: 자원을 열고(acquire) 닫는(release) 모든 코드에 `with` 문을 적용하라. 이는 예외 발생 여부와 상관없이 자원이 안전하게 해제되는 것을 보장한다.
    -   파일 처리 예시: `with open('file.txt', 'r') as f: ...`
    -   락 예시: `with threading.Lock(): ...`
2.  **직접 구현**: 직접 만든 클래스에서 자원 해제가 필요한 경우, `__enter__`와 `__exit__` 메서드를 구현하여 컨텍스트 관리 프로토콜을 따르도록 하라.
3.  **`contextlib` 활용**: 간단한 경우, `contextlib` 모듈의 `@contextmanager` 데코레이터를 사용하여 제너레이터 기반으로 컨텍스트 관리자를 손쉽게 작성할 수 있다.